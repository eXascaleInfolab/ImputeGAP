<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>imputegap.recovery.explainer package &#8212; imputegap 1.0.4 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=56c4699f" />
    <script src="_static/documentation_options.js?v=71272d9f"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="https://www.naterscreations.com/imputegap/favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="imputegap.algorithms.cdrec package" href="imputegap.cdrec.html" />
    <link rel="prev" title="imputegap.recovery.optimization package" href="imputegap.optimization.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="imputegap-recovery-explainer-package">
<h1>imputegap.recovery.explainer package<a class="headerlink" href="#imputegap-recovery-explainer-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-imputegap.recovery.explainer">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-imputegap.recovery.explainer" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">imputegap.recovery.explainer.</span></span><span class="sig-name descname"><span class="pre">Explainer</span></span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to manage SHAP-based model explanations and feature extraction for time series datasets.</p>
<section id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Link to this heading">¶</a></h3>
<dl>
<dt>load_configuration(file_path=None)</dt><dd><p>Load categories and features from a TOML file.</p>
</dd>
<dt>extractor_pycatch(data, features_categories, features_list, do_catch24=True)</dt><dd><p>Extract features from time series data using pycatch22.</p>
</dd>
<dt>extractor_tsfresh(data, categories=[“statistical”, “temporal”, “frequency”, “shape”])</dt><dd><p>Extract features from time series data using TSFresh.
The function supports filtering by feature categories and calculates a large set of features
(up to 783) related to statistics, temporal dynamics, frequency analysis, and shape.</p>
</dd>
<dt>extractor_tsfel(data, frequency=None, categories=[“spectral”, “statistical”, “temporal”, “fractal”])</dt><dd><p>Extract features from time series data using TSFEL (Time Series Feature Extraction Library).
This method calculates features based on the selected categories and optionally uses the
sampling frequency to compute frequency-domain features.</p>
</dd>
<dt>print(shap_values, shap_details=None)</dt><dd><p>Print SHAP values and details for display.</p>
</dd>
<dt>convert_results(tmp, file, algo, descriptions, features, categories, mean_features, to_save)</dt><dd><p>Convert SHAP raw results into a refined format for display.</p>
</dd>
<dt>execute_shap_model(x_dataset, x_information, y_dataset, file, algorithm, splitter=10, display=False, verbose=False)</dt><dd><p>Launch the SHAP model to explain the dataset features.</p>
</dd>
<dt>shap_explainer(input_data, algorithm=”cdrec”, params=None, extractor=”pycatch”, incomp_data=”mcar”,</dt><dd><blockquote>
<div><p>missing_rate=0.4, block_size=10, offset=0.1, seed=True, limitation=15, splitter=0,
file_name=”ts”, display=False, verbose=False)</p>
</div></blockquote>
<p>Handle parameters and set variables to launch the SHAP model.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer.convert_results">
<span class="sig-name descname"><span class="pre">convert_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descriptions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_save</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer.convert_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer.convert_results" title="Link to this definition">¶</a></dt>
<dd><p>Convert SHAP raw results to a refined format for display.</p>
<section id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>tmp<span class="classifier">list</span></dt><dd><p>Current SHAP results.</p>
</dd>
<dt>file<span class="classifier">str</span></dt><dd><p>Dataset used.</p>
</dd>
<dt>algo<span class="classifier">str</span></dt><dd><p>Algorithm used for imputation.</p>
</dd>
<dt>descriptions<span class="classifier">list</span></dt><dd><p>Descriptions of each feature.</p>
</dd>
<dt>features<span class="classifier">list</span></dt><dd><p>Raw names of each feature.</p>
</dd>
<dt>categories<span class="classifier">list</span></dt><dd><p>Categories of each feature.</p>
</dd>
<dt>mean_features<span class="classifier">list</span></dt><dd><p>Mean values of each feature.</p>
</dd>
<dt>to_save<span class="classifier">str</span></dt><dd><p>Path to save results.</p>
</dd>
</dl>
</section>
<section id="returns">
<h4>Returns<a class="headerlink" href="#returns" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>list</dt><dd><p>A list of processed SHAP results.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer.execute_shap_model">
<span class="sig-name descname"><span class="pre">execute_shap_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_information</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splitter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pycatch'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer.execute_shap_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer.execute_shap_model" title="Link to this definition">¶</a></dt>
<dd><p>Launch the SHAP model for explaining the features of the dataset.</p>
<section id="id1">
<h4>Parameters<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>x_dataset<span class="classifier">numpy.ndarray</span></dt><dd><p>Dataset of feature extraction with descriptions.</p>
</dd>
<dt>x_information<span class="classifier">list</span></dt><dd><p>Descriptions of all features grouped by categories.</p>
</dd>
<dt>y_dataset<span class="classifier">numpy.ndarray</span></dt><dd><p>RMSE labels of each series.</p>
</dd>
<dt>file<span class="classifier">str</span></dt><dd><p>Dataset used for SHAP analysis.</p>
</dd>
<dt>algorithm<span class="classifier">str</span></dt><dd><p>Algorithm used for imputation (e.g., ‘cdrec’, ‘stmvl’, ‘iim’, ‘mrnn’).</p>
</dd>
<dt>splitter<span class="classifier">int, optional</span></dt><dd><p>Split ratio for data training and testing (default is 10).</p>
</dd>
<dt>extractor<span class="classifier">str</span></dt><dd><p>Feature extractor used for the regression (e.g., ‘pycatch’, ‘tsfel’).</p>
</dd>
<dt>display<span class="classifier">bool, optional</span></dt><dd><p>Whether to display the SHAP plots (default is False).</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>Whether to print detailed output (default is False).</p>
</dd>
</dl>
</section>
<section id="id2">
<h4>Returns<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>list</dt><dd><p>Results of the SHAP explainer model.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer.extractor_pycatch">
<span class="sig-name descname"><span class="pre">extractor_pycatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">features_categories</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_catch24</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer.extractor_pycatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer.extractor_pycatch" title="Link to this definition">¶</a></dt>
<dd><p>Extract features from time series data using pycatch22.</p>
<section id="id3">
<h4>Parameters<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>data<span class="classifier">numpy.ndarray</span></dt><dd><p>Time series dataset for feature extraction.</p>
</dd>
<dt>features_categories<span class="classifier">dict</span></dt><dd><p>Dictionary that maps feature names to categories.</p>
</dd>
<dt>features_list<span class="classifier">dict</span></dt><dd><p>Dictionary of all features expected.</p>
</dd>
<dt>do_catch24<span class="classifier">bool, optional</span></dt><dd><p>Flag to compute the mean and standard deviation for Catch24 (default is True).</p>
</dd>
</dl>
</section>
<section id="id4">
<h4>Returns<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>tuple</dt><dd><p>A tuple containing:
- results (dict): A dictionary of feature values by feature names.
- descriptions (list): A list of tuples containing feature names, categories, and descriptions.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer.extractor_tsfel">
<span class="sig-name descname"><span class="pre">extractor_tsfel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['spectral',</span> <span class="pre">'statistical',</span> <span class="pre">'temporal',</span> <span class="pre">'fractal']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer.extractor_tsfel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer.extractor_tsfel" title="Link to this definition">¶</a></dt>
<dd><p>Extract features using TSFEL (Time Series Feature Extraction Library).</p>
<p>This function extracts features from the input time series data based on the specified
categories. The categories determine the type of features to compute, such as spectral,
statistical, temporal, or fractal features. Optionally, a frequency value can be provided
to compute frequency-specific features.</p>
<section id="id5">
<h4>Parameters<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<blockquote>
<div><dl>
<dt>data (numpy.ndarray):</dt><dd><p>2D array of shape (M, N), where M is the number of time series and N is the number
of values per time series. Each row represents a separate time series.</p>
</dd>
<dt>frequency (float, optional):</dt><dd><p>The sampling frequency of the time series data. This is used for spectral feature
calculations (e.g., FFT-based features). If None, spectral features will be computed
using default assumptions.</p>
</dd>
<dt>categories (list, optional):</dt><dd><dl class="simple">
<dt>A list of categories to extract. Valid categories are:</dt><dd><ul class="simple">
<li><p>“spectral”: Extract frequency-domain features (e.g., FFT, spectral entropy).</p></li>
<li><p>“statistical”: Extract basic statistical features (e.g., mean, variance, skewness).</p></li>
<li><p>“temporal”: Extract temporal-domain features (e.g., autocorrelation, zero crossings).</p></li>
<li><p>“fractal”: Extract fractal-related features (e.g., Hurst exponent, fractal dimension).</p></li>
</ul>
</dd>
</dl>
<p>By default, all four categories are extracted.</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id6">
<h4>Returns<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<blockquote>
<div><dl class="simple">
<dt>dict:</dt><dd><p>A dictionary where keys are feature names and values are the computed feature values
for the entire dataset (aggregated over all time series).</p>
</dd>
<dt>list:</dt><dd><dl class="simple">
<dt>A list of tuples, where each tuple contains:</dt><dd><ul class="simple">
<li><p>Feature name (str): The name of the feature.</p></li>
<li><p>Category (str): The category to which the feature belongs.</p></li>
<li><p>Formatted feature name (str): A human-readable version of the feature name.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>  <span class="c1"># 5 time series, each with 100 values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span><span class="p">,</span> <span class="n">descriptions</span> <span class="o">=</span> <span class="n">extractor_tsfel</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frequency</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;statistical&quot;</span><span class="p">,</span> <span class="s2">&quot;temporal&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">descriptions</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function requires TSFEL to be installed: <cite>pip install tsfel</cite>.</p></li>
<li><p>Categories can be customized to extract only the desired features, reducing computation time.</p></li>
</ul>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer.extractor_tsfresh">
<span class="sig-name descname"><span class="pre">extractor_tsfresh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['statistical',</span> <span class="pre">'temporal',</span> <span class="pre">'shape',</span> <span class="pre">'frequency']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer.extractor_tsfresh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer.extractor_tsfresh" title="Link to this definition">¶</a></dt>
<dd><p>Extract features using tsfresh and group them into 4 categories:
statistical, temporal, frequency, and shape-based.</p>
<section id="id7">
<h4>Parameters<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<blockquote>
<div><dl class="simple">
<dt>data (numpy.ndarray): 2D array of shape (M, N), where M is the number of series</dt><dd><p>and N is the number of values per series.</p>
</dd>
<dt>categories (list): List of categories to extract. Must include one or more of:</dt><dd><p>[“statistical”, “temporal”, “frequency”, “shape”]</p>
</dd>
</dl>
</div></blockquote>
</section>
<section id="id8">
<h4>Returns<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<blockquote>
<div><p>dict: A dictionary with feature names as keys and their aggregated values as values.
list: A list of tuples (feature_name, category, formatted_feature_name).</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer.load_configuration">
<span class="sig-name descname"><span class="pre">load_configuration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer.load_configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer.load_configuration" title="Link to this definition">¶</a></dt>
<dd><p>Load categories and features from a TOML file.</p>
<section id="id9">
<h4>Parameters<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>file_path<span class="classifier">str, optional</span></dt><dd><p>The path to the TOML file (default is None). If None, it loads the default configuration file.</p>
</dd>
</dl>
</section>
<section id="id10">
<h4>Returns<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>tuple</dt><dd><p>A tuple containing two dictionaries: categories, features and config.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer.print">
<span class="sig-name descname"><span class="pre">print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shap_details</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer.print"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer.print" title="Link to this definition">¶</a></dt>
<dd><p>Convert SHAP raw results to a refined format for display.</p>
<section id="id11">
<h4>Parameters<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>shap_values<span class="classifier">list</span></dt><dd><p>The SHAP values and results of the SHAP analysis.</p>
</dd>
<dt>shap_details<span class="classifier">list, optional</span></dt><dd><p>Input and output data of the regression, if available (default is None).</p>
</dd>
</dl>
</section>
<section id="id12">
<h4>Returns<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<p>None</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="imputegap.recovery.explainer.Explainer.shap_explainer">
<span class="sig-name descname"><span class="pre">shap_explainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cdrec'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pycatch'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mcar'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ts'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imputegap/recovery/explainer.html#Explainer.shap_explainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#imputegap.recovery.explainer.Explainer.shap_explainer" title="Link to this definition">¶</a></dt>
<dd><p>Handle parameters and set variables to launch the SHAP model.</p>
<section id="id13">
<h4>Parameters<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>input_data<span class="classifier">numpy.ndarray</span></dt><dd><p>The original time series dataset.</p>
</dd>
<dt>algorithm<span class="classifier">str, optional</span></dt><dd><p>The algorithm used for imputation (default is ‘cdrec’). Valid values: ‘cdrec’, ‘stmvl’, ‘iim’, ‘mrnn’.</p>
</dd>
<dt>params<span class="classifier">dict, optional</span></dt><dd><p>Parameters for the algorithm.</p>
</dd>
<dt>pattern<span class="classifier">str, optional</span></dt><dd><p>Contamination pattern to apply (default is ‘mcar’).</p>
</dd>
<dt>extractor<span class="classifier">str, optional</span></dt><dd><p>Extractor use to get the features of the data (default is ‘pycatch’).  Valid values: ‘pycatch’, ‘tsfel’, ‘tsfresh’</p>
</dd>
<dt>missing_rate<span class="classifier">float, optional</span></dt><dd><p>Percentage of missing values per series (default is 0.4).</p>
</dd>
<dt>block_size<span class="classifier">int, optional</span></dt><dd><p>Size of the block to remove at each random position selected (default is 10).</p>
</dd>
<dt>offset<span class="classifier">float, optional</span></dt><dd><p>Size of the uncontaminated section at the beginning of the time series (default is 0.1).</p>
</dd>
<dt>seed<span class="classifier">bool, optional</span></dt><dd><p>Whether to use a seed for reproducibility (default is True).</p>
</dd>
<dt>limit_ratio<span class="classifier">flaot, optional</span></dt><dd><p>Limitation on the number of series for the model (default is 1).</p>
</dd>
<dt>split_ratio<span class="classifier">flaot, optional</span></dt><dd><p>Limitation on the training series for the model (default is 0.6).</p>
</dd>
<dt>file_name<span class="classifier">str, optional</span></dt><dd><p>Name of the dataset file (default is ‘ts’).</p>
</dd>
<dt>display<span class="classifier">bool, optional</span></dt><dd><p>Whether to display the SHAP plots (default is False).</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>Whether to print detailed output (default is False).</p>
</dd>
</dl>
</section>
<section id="id14">
<h4>Returns<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h4>
<dl class="simple">
<dt>tuple</dt><dd><p>A tuple containing:</p>
<ul class="simple">
<li><dl class="simple">
<dt>shap_values<span class="classifier">list</span></dt><dd><p>SHAP values for each series.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>shap_details<span class="classifier">list</span></dt><dd><p>Detailed SHAP analysis results.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</section>
<section id="notes">
<h4>Notes<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h4>
<p>The contamination is applied to each time series using the specified method. The SHAP model is then used
to generate explanations for the imputation results, which are logged in a local directory.</p>
</section>
</dd></dl>

</section>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="https://www.naterscreations.com/imputegap/logo_imputegab.png" alt="Logo of imputegap"/>
            </a></p>
<h1 class="logo"><a href="index.html">imputegap</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/eXascaleInfolab/ImputeGAP/">GitHub Repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/imputegap/">PyPI Repository</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="imputegap.html">imputegap package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="imputegap.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="imputegap.manager.html">imputegap.recovery.manager package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.imputation.html">imputegap.recovery.imputation package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.optimization.html">imputegap.recovery.optimization package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">imputegap.recovery.explainer package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.cdrec.html">imputegap.algorithms.cdrec package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.stmvl.html">imputegap.algorithms.stmvl package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.iim.html">imputegap.algorithms.iim package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.mrnn.html">imputegap.algorithms.mrnn package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.mean_impute.html">imputegap.algorithms.mean_impute package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.min_impute.html">imputegap.algorithms.min_impute package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.zero_impute.html">imputegap.algorithms.zero_impute package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.utils.html">imputegap.tools.utils package</a></li>
<li class="toctree-l3"><a class="reference internal" href="imputegap.evaluation.html">imputegap.recovery.evaluation package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="imputegap.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="imputegap.html#module-imputegap">Module contents</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="imputegap.html">imputegap package</a><ul>
      <li>Previous: <a href="imputegap.optimization.html" title="previous chapter">imputegap.recovery.optimization package</a></li>
      <li>Next: <a href="imputegap.cdrec.html" title="next chapter">imputegap.algorithms.cdrec package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Quentin Nater.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/imputegap.explainer.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>